---
minio_buckets:
  - name: "test-bucket"
    state: present
    versioning: enable
    lifecycle_file: "/config/files/custom-lifecycle-rules.json"

minio_users:
  - name: "testuser"
    password: "testpass123"
    policies: ["readwrite"]
    state: present

minio_policies:
  - name: "custom-readonly"
    policy_file: "/config/files/custom-readonly-policy.json"
    state: present

minio_access_keys:
  - name: "test-service-account"
    associated_user: "testuser"
    state: present
    secret_key: "{{ lookup('community.general.random_string', base64=true, length=30) }}"
    expiry_duration: "24h"
    description: "Updated access key for testuser"
    policy_file: "/config/files/custom-readonly-policy.json"
